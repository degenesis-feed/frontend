(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{59589:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var s=r(95155),a=r(83415),l=r(87017),o=r(26715),n=r(63439);r(85035);var i=r(96709),d=r(87614);let c=(0,n.Y8)({appName:"FeedMe",projectId:"d679b0acafc801412fd613c2ebe6a961",chains:[i.E,d.Z],ssr:!0});var m=r(12115),h=r(47924),x=r(57340),u=r(66766),f=r(6874),g=r.n(f),v=r(18186),b=r(33109),p=r(17580),w=r(81497);function j(){return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-8 text-white",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold flex items-center",children:[(0,s.jsx)(v.A,{className:"h-6 w-6 mr-2"}),"Top Influencers Leaderboard"]}),(0,s.jsx)("p",{className:"mt-2 opacity-90",children:"The most influential users based on engagement, followers, and activity"})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-12 text-sm font-medium text-gray-500 border-b border-gray-200 pb-4 mb-4",children:[(0,s.jsx)("div",{className:"col-span-1",children:"Rank"}),(0,s.jsx)("div",{className:"col-span-5",children:"User"}),(0,s.jsx)("div",{className:"col-span-2 text-right",children:"Score"}),(0,s.jsx)("div",{className:"col-span-2 text-right",children:"Followers"}),(0,s.jsx)("div",{className:"col-span-2 text-right",children:"Engagement"})]}),[{id:1,rank:1,name:"Kartik Talwar",handle:"@kartik.eth",avatar:"/feedme.webp?height=60&width=60",score:9845,followers:125e3,tweets:3420,engagement:8.7},{id:2,rank:2,name:"Vitalik Buterin",handle:"@vitalik.eth",avatar:"/feedme.webp?height=60&width=60",score:8932,followers:98500,tweets:2876,engagement:7.9},{id:3,rank:3,name:"Sarah Williams",handle:"@sarahw",avatar:"/feedme.webp?height=60&width=60",score:8721,followers:87300,tweets:4210,engagement:6.8},{id:4,rank:4,name:"Michael Brown",handle:"@michaelb",avatar:"/feedme.webp?height=60&width=60",score:7654,followers:76200,tweets:1987,engagement:9.2},{id:5,rank:5,name:"Jessica Lee",handle:"@jessical",avatar:"/feedme.webp?height=60&width=60",score:7321,followers:65800,tweets:2543,engagement:8.1}].map(e=>(0,s.jsxs)("div",{className:"grid grid-cols-12 items-center py-4 ".concat(e.rank<=3?"bg-orange-50":""," hover:bg-gray-50 transition-colors rounded-lg px-2"),children:[(0,s.jsx)("div",{className:"col-span-1",children:(0,s.jsx)("div",{className:"\n                flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm\n                ".concat(1===e.rank?"bg-yellow-400 text-white":2===e.rank?"bg-gray-300 text-gray-800":3===e.rank?"bg-amber-700 text-white":"bg-gray-100 text-gray-600","\n              "),children:e.rank})}),(0,s.jsxs)("div",{className:"col-span-5 flex items-center",children:[(0,s.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-200 overflow-hidden mr-3",children:(0,s.jsx)(u.default,{src:e.avatar||"/placeholder.svg",alt:e.name,width:48,height:48,className:"h-full w-full object-cover"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-bold text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.handle})]})]}),(0,s.jsxs)("div",{className:"col-span-2 text-right font-bold text-gray-900",children:[e.score.toLocaleString(),(0,s.jsxs)("div",{className:"text-xs text-gray-500 font-normal flex items-center justify-end",children:[(0,s.jsx)(b.A,{className:"h-3 w-3 mr-1 text-green-500"}),"+",Math.floor(10*Math.random())+1,"%"]})]}),(0,s.jsxs)("div",{className:"col-span-2 text-right",children:[(0,s.jsxs)("div",{className:"font-medium text-gray-900",children:[(e.followers/1e3).toFixed(1),"K"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 flex items-center justify-end",children:[(0,s.jsx)(p.A,{className:"h-3 w-3 mr-1"}),e.tweets.toLocaleString()," tweets"]})]}),(0,s.jsxs)("div",{className:"col-span-2 text-right",children:[(0,s.jsxs)("div",{className:"font-medium text-gray-900",children:[e.engagement,"%"]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 flex items-center justify-end",children:[(0,s.jsx)(w.A,{className:"h-3 w-3 mr-1"}),"Avg. response"]})]})]},e.id))]})]})})}var y=r(92657),N=r(35695);function k(){let[e,t]=(0,m.useState)(""),[r,a]=(0,m.useState)(""),[l,o]=(0,m.useState)(""),[n,i]=(0,m.useState)(!1),[d,c]=(0,m.useState)([{id:1,name:"Tech Enthusiasts from Taiwan",description:"A community for tech lovers to discuss the latest trends and innovations.",members:1245,image:"/placeholder.svg?height=80&width=80",joined:!1},{id:2,name:"Web Developers from USA",description:"Connect with other web developers and share your knowledge and experiences.",members:3782,image:"/placeholder.svg?height=80&width=80",joined:!0},{id:3,name:"UI/UX Designers from Europe",description:"Share design inspiration, get feedback, and discuss design principles.",members:952,image:"/placeholder.svg?height=80&width=80",joined:!1}]),h=(0,N.useRouter)(),x=e=>{if(!l){alert("Please select a verification type.");return}h.push("/verification?type=".concat(l,"&communityId=").concat(e))};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Create a Community"}),(0,s.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e.trim()&&r.trim()&&(c([{id:Date.now(),name:e,description:r,members:1,image:"/placeholder.svg?height=80&width=80",joined:!0},...d]),t(""),a(""))},children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Community Name"}),(0,s.jsx)("input",{type:"text",id:"name",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter community name",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("textarea",{id:"description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"What's this community about?",rows:3,value:r,onChange:e=>a(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"bg-white border border-gray-100 rounded-xl p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Select What You Want to Verify"}),(0,s.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",value:l,onChange:e=>o(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"-- Select Verification Type --"}),(0,s.jsx)("option",{value:"age",children:"Age"}),(0,s.jsx)("option",{value:"nationality",children:"Nationality"}),(0,s.jsx)("option",{value:"gender",children:"Gender"})]})]}),(0,s.jsx)("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded-md transition-colors",children:"Create Community"})]})]}),(0,s.jsxs)("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden",children:[(0,s.jsx)("div",{className:"border-b border-gray-100 px-6 py-4",children:(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Communities"})}),(0,s.jsx)("div",{className:"divide-y divide-gray-100",children:d.map(e=>(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"h-20 w-20 rounded-lg bg-gray-200 overflow-hidden mr-4",children:(0,s.jsx)(u.default,{src:"/feedme.webp",alt:e.name,width:80,height:80,className:"h-full w-full object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-lg font-bold",children:e.name}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-1"}),(0,s.jsxs)("span",{children:[e.members.toLocaleString()," members"]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>x(e.id),disabled:n,className:"flex items-center px-4 py-2 rounded-full text-sm font-medium ".concat(e.joined?"bg-gray-200 hover:bg-gray-300 text-gray-800":"bg-orange-500 hover:bg-orange-600 text-white"," transition-colors"),children:n?"Verifying...":"Join"}),(0,s.jsxs)("button",{className:"flex items-center px-4 py-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-800 text-sm font-medium transition-colors",children:[(0,s.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"View"]})]})]})},e.id))})]})]})}var S=r(5623);async function C(e){let t=await fetch("https://feedme-backend.vercel.app/v1/feed/".concat(e));if(!t.ok)throw Error("Failed to fetch feed for ".concat(e));return t.json()}var E=r(2145);function L(e){let{tweetText:t,setTweetText:r,handleTweet:a}=e,{address:l}=(0,E.F)(),[o,n]=(0,m.useState)([]);return(0,m.useEffect)(()=>{l&&(async()=>{try{let e=(await C(l)).map((e,t)=>{var r,s,a,l,o,n,i,d;let c=null!==(l=null==e?void 0:e.value)&&void 0!==l?l:"0",m=null!==(o=null==e?void 0:e.to)&&void 0!==o?o:"0x0000000000000000000000000000000000000000",h=null==e?void 0:e.timestamp,x=h?new Date(1e3*h).toLocaleString():"Just now";return{id:(null==e?void 0:e.transactionHash)||"tx-".concat(t),name:(null==e?void 0:null===(r=e.contract)||void 0===r?void 0:r.name)||"Unnamed Token",handle:(null==e?void 0:null===(s=e.contract)||void 0===s?void 0:s.symbol)?"@".concat(e.contract.symbol):"@unknown",avatar:"/feedme.webp",content:"Sent ".concat((Number(c)/1e18).toFixed(4)," tokens to ").concat(m.slice(0,6),"...").concat(m.slice(-4)),time:x,from:null!==(n=null==e?void 0:e.from)&&void 0!==n?n:"unknown",to:m,value:c,transactionHash:null!==(i=null==e?void 0:e.transactionHash)&&void 0!==i?i:"unknown",contractAddress:null!==(d=null==e?void 0:null===(a=e.contract)||void 0===a?void 0:a.address)&&void 0!==d?d:"",comments:Math.floor(5*Math.random()),retweets:Math.floor(10*Math.random()),likes:Math.floor(50*Math.random())}});n(e)}catch(e){console.error("❌ Failed to fetch or transform feed:",e)}})()},[l]),(0,s.jsxs)("div",{className:"border border-gray-100 rounded-xl overflow-hidden",children:[(0,s.jsx)("div",{className:"border-b border-gray-100 px-4 py-3",children:(0,s.jsx)("h2",{className:"text-xl font-bold",children:"Home"})}),(0,s.jsx)("div",{className:"border-b border-gray-100 px-4 py-3 flex",children:(0,s.jsx)("div",{className:"mr-4",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 overflow-hidden",children:(0,s.jsx)(u.default,{src:"/feedme.webp?height=40&width=40",alt:"Your profile",width:40,height:40,className:"h-full w-full object-cover"})})})}),o.map((e,t)=>(0,s.jsx)("div",{className:"border-b border-gray-100 px-4 py-3 hover:bg-gray-50 transition-colors",children:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"mr-3",children:(0,s.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 overflow-hidden",children:(0,s.jsx)(u.default,{src:"/feedme.webp",alt:"User avatar",width:40,height:40,className:"h-full w-full object-cover"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"font-bold text-gray-900",children:e.from}),(0,s.jsx)("span",{className:"mx-1 text-gray-500",children:"\xb7"}),(0,s.jsx)("span",{className:"text-gray-500",children:e.time}),(0,s.jsx)("button",{className:"ml-auto p-1 text-gray-500 hover:text-orange-500 rounded-full hover:bg-orange-50 transition-colors",children:(0,s.jsx)(S.A,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"mt-1 text-gray-800",children:e.content}),(0,s.jsx)("div",{className:"mt-3 flex justify-between max-w-md",children:(0,s.jsxs)("button",{className:"flex items-center text-gray-500 hover:text-orange-500 group",children:[(0,s.jsx)("div",{className:"p-1.5 rounded-full group-hover:bg-orange-50 transition-colors",children:(0,s.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,s.jsx)("span",{className:"ml-1 text-xs",children:e.comments})]})})]})]})},e.id||t))]})}async function F(e){let t=await fetch("https://feedme-backend.vercel.app/v1/feed/".concat(e));if(!t.ok)throw Error("Failed to fetch own feed");return(await t.json()).flat()}function M(){let{address:e}=(0,E.F)(),[t,r]=(0,m.useState)([]),[a,l]=(0,m.useState)("posts"),[o,n]=(0,m.useState)("");function i(e){return"".concat(e.slice(0,6),"...").concat(e.slice(-4))}return(0,m.useEffect)(()=>{e&&(async()=>{try{let t=await F(e);r(t||[])}catch(e){console.error("Error fetching own feed:",e)}})()},[e]),(0,m.useEffect)(()=>{{let e=localStorage.getItem("feedme:user");if(e)try{let t=JSON.parse(e);(null==t?void 0:t.description)&&n(t.description)}catch(e){console.warn("Invalid user profile in localStorage.")}}},[]),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden",children:[(0,s.jsx)("div",{className:"h-48 bg-gradient-to-r from-orange-400 to-orange-600 relative",children:(0,s.jsx)(u.default,{src:"/feedme.webp",alt:"Cover photo",fill:!0,className:"object-cover"})}),(0,s.jsxs)("div",{className:"px-6 pb-6 relative",children:[(0,s.jsx)("div",{className:"absolute -top-16 left-6 border-4 border-white rounded-full overflow-hidden h-32 w-32 bg-white shadow-md",children:(0,s.jsx)(u.default,{src:"/feedme.webp?height=128&width=128",alt:"Profile picture",width:128,height:128,className:"object-cover"})}),(0,s.jsx)("div",{className:"flex justify-end pt-4",children:(0,s.jsx)("button",{className:"px-4 py-2 border border-gray-300 rounded-full font-medium hover:bg-gray-50 transition-colors",children:"Edit profile"})}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"FeedMe User"}),(0,s.jsx)("p",{className:"text-gray-500",children:e?i(e):"Not connected"}),o&&(0,s.jsx)("p",{className:"mt-4 text-gray-800",children:o}),(0,s.jsxs)("div",{className:"flex mt-4",children:[(0,s.jsxs)("div",{className:"mr-4",children:[(0,s.jsx)("span",{className:"font-bold",children:"1,234"})," ",(0,s.jsx)("span",{className:"text-gray-500",children:"Following"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:"5,678"})," ",(0,s.jsx)("span",{className:"text-gray-500",children:"Followers"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden",children:[(0,s.jsx)("div",{className:"flex border-b border-gray-100",children:["posts"].map(e=>(0,s.jsx)("button",{className:"flex-1 py-4 text-center font-medium ".concat(a===e?"text-orange-500 border-b-2 border-orange-500":"text-gray-500 hover:bg-gray-50"),onClick:()=>l(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,s.jsx)("div",{className:"divide-y divide-gray-100",children:0===t.length?(0,s.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No activity found."}):t.map((t,r)=>(0,s.jsxs)("div",{className:"p-4 border-b border-gray-100",children:[(0,s.jsx)("div",{className:"text-gray-800",children:function(e,t){var r,s,a,l,o,n;let d=(null===(r=e.from)||void 0===r?void 0:r.toLowerCase())===(null==t?void 0:t.toLowerCase()),c=d?e.to:e.from,m=null!==(l=null===(s=e.contract)||void 0===s?void 0:s.decimals)&&void 0!==l?l:18,h=(Number(null!==(o=e.value)&&void 0!==o?o:0)/Math.pow(10,m)).toFixed(2),x=null!==(n=null===(a=e.contract)||void 0===a?void 0:a.symbol)&&void 0!==n?n:"UNKNOWN",u=e.timestamp?new Date(1e3*e.timestamp).toLocaleDateString():"Unknown Date";return"You ".concat(d?"sent":"received"," ").concat(h," ").concat(x," ").concat(d?"to":"from"," ").concat(i(c)," on ").concat(u)}(t,e)}),(0,s.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["Tx:"," ",(0,s.jsx)("a",{href:"https://basescan.org/tx/".concat(t.transactionHash),className:"text-orange-500 underline",target:"_blank",rel:"noopener noreferrer",children:i(t.transactionHash)})]})]},r))})]})]})}var A=r(54416),T=r(51154),D=r(14186);async function I(e,t,r){let{follower:s,whoToFollow:a,profileOrCommunity:l="profile"}=r,o="https://feedme-backend.vercel.app/v1/follow?follower=".concat(s,"&who_to_follow=").concat(a,"&profile_or_community=").concat(l),n=await fetch(o,{method:"POST",headers:{accept:"application/json"}});if(!n.ok)throw Error("Failed to follow user");return await n.json()}function U(e){let{isOpen:t,onClose:r,onSearch:a,walletAddress:l}=e,[o,n]=(0,m.useState)(""),[i,d]=(0,m.useState)(!1),[c,x]=(0,m.useState)([]),u=(0,m.useRef)(null),f=(0,m.useRef)(null),{address:g}=(0,E.F)(),v=async e=>{if(!g){alert("Connect your wallet first.");return}if(g.toLowerCase()===e.toLowerCase()){alert("You cannot follow yourself.");return}try{let t=await I(l||"",g,{follower:g,whoToFollow:e,profileOrCommunity:"profile"});console.log("✅ Followed:",t.message)}catch(e){console.error("❌ Follow failed:",e),alert("Follow failed. Please ensure the address is valid and try again.")}},b=()=>{o.trim()&&(d(!0),c.includes(o)||x(e=>[o,...e.slice(0,4)]),a(o),setTimeout(()=>{d(!1)},500))},p=e=>{n(e),a(e),r()},j=(e,t)=>{t.stopPropagation(),x(t=>t.filter(t=>t!==e))};return((0,m.useEffect)(()=>{let e=localStorage.getItem("recentSearches");e&&x(JSON.parse(e))},[]),(0,m.useEffect)(()=>{localStorage.setItem("recentSearches",JSON.stringify(c))},[c]),(0,m.useEffect)(()=>{t&&f.current&&f.current.focus()},[t]),(0,m.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&r()};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,r]),(0,m.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,r]),t)?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-start justify-center pt-16 px-4",children:(0,s.jsxs)("div",{ref:u,className:"bg-white rounded-xl shadow-xl w-full max-w-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center p-4 border-b border-gray-100",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,s.jsx)("input",{ref:f,type:"text",className:"flex-1 border-0 focus:ring-0 text-lg placeholder-gray-400 py-1",placeholder:"Search wallet address",value:o,onChange:e=>n(e.target.value),onKeyDown:e=>"Enter"===e.key&&b()}),o&&(0,s.jsx)("button",{onClick:()=>n(""),className:"p-1 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:(0,s.jsx)(A.A,{className:"h-5 w-5"})}),(0,s.jsx)("button",{onClick:r,className:"ml-2 px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-full",children:"Cancel"})]}),(0,s.jsx)("div",{className:"max-h-[70vh] overflow-y-auto",children:i?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(T.A,{className:"h-8 w-8 text-orange-500 animate-spin"})}):o?(0,s.jsx)("div",{className:"p-4 space-y-3",children:(0,s.jsx)("div",{className:"p-3 border rounded-lg hover:bg-gray-50 transition flex items-center justify-between",children:(0,s.jsx)("button",{onClick:()=>v(o),className:"text-orange-500 font-medium text-sm hover:underline",children:"Follow"})})}):(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-bold mb-3",children:"Recent searches"}),c.length>0?(0,s.jsx)("div",{className:"space-y-2",children:c.map((e,t)=>(0,s.jsxs)("div",{onClick:()=>p(e),className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg cursor-pointer",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(D.A,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,s.jsx)("span",{children:e})]}),(0,s.jsx)("button",{onClick:t=>j(e,t),className:"p-1 rounded-full text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:(0,s.jsx)(A.A,{className:"h-4 w-4"})})]},t))}):(0,s.jsxs)("div",{className:"text-gray-500 text-center py-8",children:[(0,s.jsx)(w.A,{className:"h-10 w-10 mx-auto mb-3 text-gray-300"}),(0,s.jsx)("p",{children:"Try searching for wallet addresses"})]})]})})]})}):null}async function O(e,t){let r="https://feedme-backend.vercel.app/v1/signUp?wallet=".concat(e,"&description=").concat(t),s=await fetch(r,{method:"POST",headers:{accept:"application/json"}});if(!s.ok)throw Error("Failed to sign up user");return await s.json()}function _(){let{address:e}=(0,E.F)(),[t,r]=(0,m.useState)("following"),[a,l]=(0,m.useState)(""),[o,i]=(0,m.useState)(!1),[d,c]=(0,m.useState)(""),[f,v]=(0,m.useState)([]),[b,p]=(0,m.useState)(null),[w,y]=(0,m.useState)(null),[N,S]=(0,m.useState)([]),[F,A]=(0,m.useState)("Hey there! I'm new here \uD83D\uDE80");return(0,m.useEffect)(()=>{(async()=>{var t;if(!e)return;let r=localStorage.getItem("feedme:user"),s=null;try{s=r?JSON.parse(r):null}catch(e){localStorage.removeItem("feedme:user")}if((null==s?void 0:null===(t=s.wallet)||void 0===t?void 0:t.toLowerCase())===e.toLowerCase()){y(s),p(e);return}try{let t=await O(e,F),r={wallet:e,description:F,signedUp:!0};localStorage.setItem("feedme:user",JSON.stringify(r)),y(r),p(e),console.log("✅ Signup successful:",t.message)}catch(e){console.error("❌ Signup failed:",e)}})()},[e]),(0,m.useEffect)(()=>{(async()=>{if(e)try{let t=await O(e,"Default description");y(t),p(e)}catch(e){console.error("Error fetching user profile:",e)}})()},[e]),(0,m.useEffect)(()=>{e&&(async()=>{try{let t=(await C(e)).map((e,t)=>{var r,s,a;return{id:e.transactionHash||"".concat(t),name:(null===(r=e.contract)||void 0===r?void 0:r.name)||"Anonymous",handle:(null===(s=e.from)||void 0===s?void 0:s.slice(0,6))+"..."+(null===(a=e.from)||void 0===a?void 0:a.slice(-4)),avatar:"/feedme.webp",content:"Sent ".concat(Number(e.value)/1e18," tokens to ").concat(e.to),time:new Date(1e3*e.timestamp).toLocaleString(),comments:Math.floor(10*Math.random()),retweets:Math.floor(10*Math.random()),likes:Math.floor(100*Math.random())}});S(t)}catch(e){console.error("Failed to fetch feed",e)}})()},[e]),(0,s.jsxs)("div",{className:"min-h-screen bg-white text-gray-900 flex flex-col",children:[(0,s.jsx)(U,{isOpen:o,onClose:()=>i(!1),onSearch:e=>{c(e),console.log("Searching for: ".concat(e)),e.trim()?v(N.filter(t=>t.content.toLowerCase().includes(e.toLowerCase())||t.name.toLowerCase().includes(e.toLowerCase())||t.handle.toLowerCase().includes(e.toLowerCase()))):v([])},walletAddress:b}),(0,s.jsx)("header",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-md border-b border-gray-100",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 w-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"h-20 w-20 text-orange-500 flex items-center justify-center",children:(0,s.jsx)(u.default,{src:"/feedme.webp",alt:"FeedMe Logo",width:80,height:80,className:"w-full h-full object-contain"})})})}),(0,s.jsxs)("nav",{className:"hidden md:flex space-x-10",children:[(0,s.jsx)("button",{className:"flex items-center px-3 py-2 text-sm font-medium transition-colors ".concat("following"===t?"text-[--feedme-red] border-b-2 border-[--feedme-red]":"text-gray-700 hover:text-[--feedme-red]"),onClick:()=>r("following"),children:"Following"}),(0,s.jsx)("button",{className:"flex items-center px-3 py-2 text-sm font-medium transition-colors ".concat("communities"===t?"text-[--feedme-red] border-b-2 border-[--feedme-red]":"text-gray-700 hover:text-[--feedme-red]"),onClick:()=>r("communities"),children:"Communities"}),(0,s.jsx)("button",{className:"flex items-center px-3 py-2 text-sm font-medium transition-colors ".concat("leaderboard"===t?"text-[--feedme-red] border-b-2 border-[--feedme-red]":"text-gray-700 hover:text-[--feedme-red]"),onClick:()=>r("leaderboard"),children:"Leaderboard"}),(0,s.jsx)("button",{className:"flex items-center px-3 py-2 text-sm font-medium transition-colors ".concat("ownfeed"===t?"text-[--feedme-red] border-b-2 border-[--feedme-red]":"text-gray-700 hover:text-[--feedme-red]"),onClick:()=>r("ownfeed"),children:"My Profile"})]}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsxs)("button",{className:"p-2 rounded-full text-gray-600 hover:text-orange-500 hover:bg-orange-50 transition-colors relative",onClick:()=>i(!0),"aria-label":"Search",children:[(0,s.jsx)(h.A,{className:"h-5 w-5"}),d&&(0,s.jsx)("span",{className:"absolute top-0 right-0 h-2 w-2 bg-[--feedme-red] rounded-full"})]})}),(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(n.pK,{})})]}),(0,s.jsxs)("div",{className:"md:hidden flex justify-around border-t border-gray-100",children:[(0,s.jsx)("button",{className:"flex items-center justify-center py-3 flex-1 text-sm font-medium transition-colors ".concat("communities"===t?"text-[--feedme-red] border-b-2 border-orange-500":"text-gray-700"),onClick:()=>r("communities"),children:"Communities"}),(0,s.jsx)("button",{className:"flex items-center justify-center py-3 flex-1 text-sm font-medium transition-colors ".concat("leaderboard"===t?"text-orange-500 border-b-2 border-[--feedme-red]":"text-gray-700"),onClick:()=>r("leaderboard"),children:"Leaderboard"}),(0,s.jsx)("button",{className:"flex items-center justify-center py-3 flex-1 text-sm font-medium transition-colors ".concat("following"===t?"text-[--feedme-red] border-b-2 border-[--feedme-red]":"text-gray-700"),onClick:()=>r("following"),children:"Following"}),(0,s.jsx)("button",{className:"flex items-center justify-center py-3 flex-1 text-sm font-medium transition-colors ".concat("ownfeed"===t?"text-[--feedme-red] border-b-2 border-[--feedme-red]":"text-gray-700"),onClick:()=>r("ownfeed"),children:"My Profile"})]})]})}),!(null==w?void 0:w.signedUp)&&e&&(0,s.jsx)("div",{className:"max-w-3xl w-full px-4 mt-4 mx-auto",children:(0,s.jsxs)("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg shadow",children:[(0,s.jsx)("label",{htmlFor:"desc",className:"block font-semibold mb-1 text-sm text-gray-700",children:"Enter a short profile bio:"}),(0,s.jsx)("textarea",{id:"desc",rows:3,placeholder:"Hey there! I'm new here \uD83D\uDE80",className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-[feedme-red]",value:F,onChange:e=>A(e.target.value)}),(0,s.jsx)("button",{className:"mt-2 bg-orange-500 hover:bg-[feedme-red-dark] text-white font-bold py-1.5 px-4 rounded-full",onClick:()=>{localStorage.removeItem("feedme:user"),window.location.reload()},children:"Save & Sign Up Again"})]})}),(0,s.jsx)("div",{className:"flex-grow flex items-start justify-center",children:(0,s.jsx)("main",{className:"max-w-3xl w-full px-4 py-6",children:(0,s.jsxs)("div",{className:"w-full",children:["following"===t&&(0,s.jsx)(L,{tweetText:a,setTweetText:l,handleTweet:()=>{""!==a.trim()&&(S([{id:Date.now(),name:"Your Name",handle:"@yourhandle",avatar:"/placeholder.svg?height=40&width=40",content:a,time:"now",comments:0,retweets:0,likes:0},...N]),l(""))}}),"communities"===t&&(0,s.jsx)(k,{}),"leaderboard"===t&&(0,s.jsx)(j,{}),"ownfeed"===t&&(0,s.jsx)(M,{})]})})}),(0,s.jsx)("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 flex justify-around py-3",children:(0,s.jsx)(g(),{href:"#",className:"p-2 text-gray-700 hover:text-[--feedme-red]",children:(0,s.jsx)(x.A,{className:"h-6 w-6"})})})]})}let H=new l.E;function P(){return(0,s.jsx)(a.x,{config:c,children:(0,s.jsx)(o.Ht,{client:H,children:(0,s.jsx)(n.qL,{children:(0,s.jsx)(_,{})})})})}},64929:(e,t,r)=>{Promise.resolve().then(r.bind(r,59589))}},e=>{var t=t=>e(e.s=t);e.O(0,[4106,8451,7486,8441,1684,7358],()=>t(64929)),_N_E=e.O()}]);